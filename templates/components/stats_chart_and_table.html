<!-- templates/components/stats_chart_and_table.html -->
<div class="mt-4">
    <h6>{{ title }}</h6>
    <canvas id="{{ chart_id }}"></canvas>
    <button class="btn btn-sm btn-outline-secondary mt-3" type="button" data-bs-toggle="collapse" data-bs-target="#{{ table_id }}" aria-expanded="false" aria-controls="{{ table_id }}">
        显示/隐藏详细数据
    </button>
    <div class="collapse mt-3" id="{{ table_id }}">
        <div class="card card-body">
            <h7>详细数据</h7>
            <table class="table table-striped table-hover table-sm">
                <thead>
                    <tr>
                        {% for header in table_headers %}
                            <th>{{ header }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for key, count in stats_data.items() %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ count }}</td>
                        <td>{{ "%.2f" | format((count / total_draws * 100) if total_draws > 0 else 0) }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
